
let coseBin = hexStr2bytes("d28454a20126044f444944566572696669636174696f6ea0581d50657269636f20506572657a2c207175652074616c20657374c3a1733f584072e9dd275d48f1431dda6b0ecc5b2f01a6f08957dda8bc31b8423910f5b2f043b2e4ee1576fad8aef9251560f9db415253d1e8ae9ac60a2b1ede9ac21b361bb2")

let coseIn = hexStr2bytes("d2844da204489410c5605f679edb0126a0590124a4041a6092dd20061a60903a2001624154390103a101a4617681aa62646e01626d616d4f52472d3130303033303231356276706a313131393330353030356264746a323032312d30322d313862636f624154626369783075726e3a757663693a30313a41543a313038303738343346393441454530454535303933464243323534424438313350626d706c45552f312f32302f313532386269736e424d5347504b20417573747269616273640262746769383430353339303036636e616da463666e74754d5553544552465241553c474f455353494e47455262666e754d7573746572667261752d47c3b6c39f696e67657263676e74684741425249454c4562676e684761627269656c656376657265312e302e3063646f626a313939382d30322d32365840ae8401b24543a93128bf796c1ae915c63a174b3d3bdd4a728e8ecce6819003f58a4dd8635814a19aa19ca98303297c2f2cc0414521d1230f116be08d30dcb986")

let cborIn = hexStr2bytes("bf6376657265312e302e30636e616dbf62666e754d7573746572667261752d47c3b6c39f696e67657263666e74754d5553544552465241553c474f455353494e47455262676e684761627269656c6563676e74684741425249454c45ff63646f626a313939382d30322d3236617681bf627467693834303533393030366276706a31313139333035303035626d706c45552f312f32302f31353238626d616d4f52472d31303030333032313562646e01627364026264746a323032312d30322d313862636f6241546269736e424d5347504b2041757374726961626369783075726e3a757663693a30313a41543a313038303738343346393441454530454535303933464243323534424438313350ffff")

let base45In = "NCFTW2P8QPO0PS3PJ3H0BZHLZ+L:ZI%9STWM4*P-+P+1F3E3%UNW$JQ%NDWM.UM-04E4Q2ZIAEP/JI/Q49+M/Y16*1ZEHH.4/%9I1TS%VW8US0VD6K9%FMBN/$UGPUZ3LV-UM-FN4Q7*JTAED2RVBCKFSI QUW9GK5P1IVD9KJ1OFNBGBPCNSB3MIIZEBNZ6536100L8F/PITG9O84DI1IE0%T4D3TAD3YH0S%8JKKV*MMKKKJ5O%5W*V2 E778/MJS22Z36MZ8HCNTYAB$0XZ8D*GVWDL:21IMI61*REQDN1GOQ31VFUOA8Y.5I9LAKC-I80RJAJL1LPBX33XI/*E/SML85EMKMM0KOA/%2FU6KS7B0AHPID9HHKD289Y/OH*OJYH9W1 %CR-BAW5EZTY/F$SFREF:%E9*DE%QM-BHOAM1PB3KD$O$D7US4UNCER5J2N1N1LA8$HQ-I64L4:3J4CONAWVIID 54G3E/B58U7-M2JUI0VZFDQD33.VIZE:7V 7OO4V+7O$RVS+J2HLW AQ/5JI05ZTU5SOX279O1R6706Q2UGCP75V%9I17G"
 

let pemData = "MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEMkr7iImeFNBcI638+juA7SvlmJmWMG29r5uose5f9u+ed1hxDXFVQsVDFRNP89yjYEdk65PbVuSDVL6hrRuelQ=="


let pemPriv = "MIGHAgEAMBMGByqGSM49AgEGCCqGSM49AwEHBG0wawIBAQQghvyWC6knPxIaTFlDpL5QsmsNWP5dLLOHvQF8GXvE3/OhRANCAAQlQoZifrlJuFACUlGXmAIZo2/jKtKhH2Wes2kgQsz0SBlN7W+MnOYScxbv06sf17rfDEuvPPD6T8oOLsleUytK"


let pemRSAPublic = "MIIC6DCCAdCgAwIBAgIFAMFkOjcwDQYJKoZIhvcNAQELBQAwETEPMA0GA1UEAwwGUlNBLU1lMB4XDTIxMDUwMzE4MDAwMFoXDTIxMDYwMjE4MDAwMFowETEPMA0GA1UEAwwGUlNBLU1lMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAz2ixJL06PlaxpRD3bWwIWN25x4gMav4A8oJOYh9g9Rt1s8PGto9zXfAwZ/md9h9CwDkHSaU2Sssj5jvp0yZpO8fLiEZcX5BnriC65CvYDGpwnvvF9XtpuZsT5OJ/vokAMSFgIoBEWt5LzC7vTP7GEBFshysossEr1S+HRCIxZjJt9tstEm156PlRB40SCp9lU1d3BRpHj3uuPCwsYSsO25Yk/1fQJU1AbmNmdbEKL5VEgbcHyL1TkGOITF6T5DTAJNCzl/UMezEBizK7b1RpTUI9TOV6xr9kzZY/wQ05fJ02xISnC/6hKi4a83fZO/ADelr2eeOS4PWrTeh9CgbY3wIDAQABo0cwRTAOBgNVHQ8BAf8EBAMCBaAwMwYDVR0lBCwwKgYMKwYBBAEAjjePZQEBBgwrBgEEAQCON49lAQIGDCsGAQQBAI43j2UBAzANBgkqhkiG9w0BAQsFAAOCAQEAsYrUM/J16wTBZxeWTszAVxXiKirwoV9Nt82WW9vn6Px5tZZ5m3yazfZeARkokhcvUZ9U0VDLgX09Yzj0NjSLc82WknIxf5FT3NhDE8ax7VoOH17pv2YflNP0bXO2YQqX/7XFMfHaZ5KKdQmThht7BVYRKZR8Ksi2TvnFxnBdLNcWl41LNaNpM5vSjZ236OhWBNZrFx4OD2XLEJkk6NZ4txrsHmpSogyIlF9kextqxEqg+9aluWQyiz4Q4HcIPd1S7M/CsanO4URrLLKKmBzaaQV2JBoTwEBZ5NiZj3LpfaxsbiyGnwYxMlb0RO2V/8JvKYNOWgl7tVQk7+Uut/MHrg=="

let pemRSA = "MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDD0tPV/du2vftjvXj1t/gXTK39sNBVrOAEb/jKzXae+Xa0H+3LhZaQIQNMfACiBSgIfZUvEGb+7TqXWQpoLoFR/R7MvGWcSk98JyrVtveD8ZmZYyItSY7m2hcasqAFiKyOouV5vzyRe87/lEyzzBpF3bQQ4IDaQu+K9Hj5fKuU6rrOeOhsdnJc+VdDQLScHxvMoLZ9Vtt+oK9J4/tOLwr4CG8khDlBURcBY6gPcLo3dPU09SW+6ctX2cX4mkXx6O/0mmdTmacr/vu50KdRMleFeZYOWPAEhhMfywybTuzBiPVIZVP8WFCSKNMbfi1S9A9PdBqnebwwHhX3/hsEBt2BAgMBAAECggEABEI1P6nf6Zs7mJlyBDv+Pfl5rjL2cOqLy6TovvZVblMkCPpJyFuNIPDK2tK2i897ZaXfhPDBIKmllM2Hq6jZQKB110OAnTPDg0JxzMiIHPs32S1d/KilHjGff4Hjd4NXp1l1Dp8BUPOllorR2TYm2x6dcCGFw9lhTr8O03Qp4hjn84VjGIWADYCk83mgS4nRsnHkdiqYnWx1AjKlY51yEK6RcrDMi0Th2RXrrINoC35sVv+APt2rkoMGi52RwTEseA1KZGFrxjq61ReJif6p2VXEcvHeX6CWLx014LGk43z6Q28P6HgeEVEfIjyqCUea5Du/mYb/QsRSCosXLxBqwQKBgQD1+fdC9ZiMrVI+km7Nx2CKBn8rJrDmUh5SbXn2MYJdrUd8bYNnZkCgKMgxVXsvJrbmVOrby2txOiqudZkk5mD3E5O/QZWPWQLgRu8ueYNpobAX9NRgNfZ7rZD+81vh5MfZiXfuZOuzv29iZhU0oqyZ9y75eHkLdrerNkwYOe5aUQKBgQDLzapDi1NxkBgsj9iiO4KUa7jvD4JjRqFy4Zhj/jbQvlvM0F/uFp7sxVcHGx4r11C+6iCbhX4u+Zuu0HGjT4d+hNXmgGyxR8fIUVxOlOtDkVJa5sOBZK73/9/MBeKusdmJPRhalZQfMUJRWIoEVDMhfg3tW/rBj5RYAtP2dTVUMQKBgDs8yr52dRmT+BWXoFWwaWB0NhYHSFz/c8v4D4Ip5DJ5M5kUqquxJWksySGQa40sbqnD05fBQovPLU48hfgr/zghn9hUjBcsoZOvoZR4sRw0UztBvA+7jzOz1hKAOyWIulR6Vca0yUrNlJ6G5R56+sRNkiOETupi2dLCzcqb0PoxAoGAZyNHvTLvIZN4iGSrjz5qkM4LIwBIThFadxbv1fq6pt0O/BGf2o+cEdq0diYlGK64cEVwBwSBnSg4vzlBqRIAUejLjwEDAJyA4EE8Y5A9l04dzV7nJb5cRak6CrgXxay/mBJRFtaHxVlaZGxYPGSYE6UFS0+3EOmmevvDZQBf4qECgYEA0ZF6Vavz28+8wLO6SP3w8NmpHk7K9tGEvUfQ30SgDx4G7qPIgfPrbB4OP/E0qCfsIImi3sCPpjvUMQdVVZyPOIMuB+rV3ZOxkrzxEUOrpOpR48FZbL7RN90yRQsAsrp9e4iv8QwB3VxLe7X0TDqqnRyqrc/osGzuS2ZcHOKmCU8="


var decoded

window.onload = async function () {
    console.log("Hola!")


    // base64 decode the string to get the binary data
    const binaryDerString = window.atob(pemData);
    console.log(binaryDerString)
    // convert from a binary string to an ArrayBuffer
    const binaryDer = str2ab(binaryDerString);
    console.log(binaryDer)

    // Import a public key
    let key = await crypto.subtle.importKey(
        "spki",
        binaryDer,
        {
            name: "ECDSA",
            namedCurve: "P-256"
        },
        true,
        ["verify"]
    );

    return;


    let ecKeyObj = new JWK()
    let keypair = await ecKeyObj.generateKeyPair()
    let exportedPEM = await ecKeyObj.exportToPEM()
    console.log(exportedPEM)

    const exportedAsString = ab2str(exportedPEM);
    const exportedAsBase64 = window.btoa(exportedAsString);
    console.log(exportedAsBase64)

    return;




}